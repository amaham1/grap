# 거리 계산 기능 안내

## 개요

본 프로젝트는 주유소와 사용자 위치 간의 거리를 계산하기 위해 하버사인 공식(Haversine Formula)을 사용한 직선 거리 계산 방식을 적용하고 있습니다. 이전에는 카카오 모빌리티 API를 사용하여 실제 도로 거리를 계산하려 했으나, API 호출 문제로 인해 직선 거리 계산 방식으로 변경되었습니다.

## 카카오 API 키 설정 방법

1. 카카오 개발자 사이트(https://developers.kakao.com)에 로그인합니다.
2. 애플리케이션 추가 또는 기존 애플리케이션을 선택합니다.
3. '카카오 로컬' API 사용 설정을 활성화합니다.
4. 발급받은 REST API 키를 복사합니다.
5. 프로젝트 루트 디렉토리의 `.env.development` 및 `.env.production` 파일에 다음과 같이 API 키를 추가합니다:

```
VITE_KAKAO_API_KEY=발급받은_API_키_입력
```

## 거리 계산 방식

### 현재 구현: 하버사인 공식(직선 거리)

현재 구현된 거리 계산 방식은 하버사인 공식을 사용한 직선 거리 계산입니다. 이 방식은 두 지점 간의 최단 거리(직선 거리)를 지구의 곡률을 고려하여 계산합니다.

**장점:**
- API 호출 없이 클라이언트 측에서 계산 가능
- 서버 의존성 감소
- 빠른 계산 속도

**제한사항:**
- 실제 도로 거리가 아닌 직선 거리만 계산
- 지형, 도로 상황 등을 고려하지 않음

### 향후 개선 방향

향후 개발 계획에는 다음과 같은 개선 사항이 포함되어 있습니다:

1. 카카오 모빌리티 API 또는 다른 경로 API를 사용한 실제 도로 거리 계산 구현
2. 좌표 변환 실패 케이스 핸들링 개선
3. 사용자 위치 권한 및 오류 처리 강화

## 주의사항

- API 키는 노출되지 않도록 주의하세요.
- `.env.*` 파일은 git에 커밋되지 않도록 `.gitignore`에 추가되어 있는지 확인하세요.
- 카카오 API는 사용량에 따라 과금될 수 있으므로 API 사용량을 모니터링하세요.

## 관련 문서

- 카카오 로컬 API 문서: https://developers.kakao.com/docs/latest/ko/local/dev-guide
- Vue 환경 변수 설정: https://vitejs.dev/guide/env-and-mode.html
